<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BZZZBZ: KISS FFT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logosmall.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BZZZBZ
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">KISS FFT </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>KISS FFT - A mixed-radix Fast Fourier Transform in C with an Android JNI wrapper.</p>
<h2>In C</h2>
<h3>Complex to Complex FFT and IFFT</h3>
<p>The basic usage for 1-d complex FFT is:</p>
<div class="fragment"><div class="line">#include &quot;kiss_fft.h&quot;</div><div class="line"></div><div class="line">kiss_fft_cfg cfg = kiss_fft_alloc( nfft, is_inverse_fft, 0, 0 );</div><div class="line">kiss_fft_cpx *cx_in = new kiss_fft_cpx[nfft];</div><div class="line">kiss_fft_cpx *cx_out = new kiss_fft_cpx[nfft];</div><div class="line"></div><div class="line">// put kth sample in cx_in[k].r and cx_in[k].i</div><div class="line"></div><div class="line">kiss_fft( cfg , cx_in , cx_out );</div><div class="line"></div><div class="line">// transformed. DC is in cx_out[0].r and cx_out[0].i </div><div class="line"></div><div class="line">free(cfg);</div><div class="line">delete[] cx_in;</div><div class="line">delete[] cx_out;</div></div><!-- fragment --><ul>
<li><code>nfft</code> is the number of samples in both time- and frequency domain</li>
<li><code>is_inverse</code> is 0 for the forward transform and 1 for the inverse</li>
<li><code>cx_in</code> and <code>cx_out</code> are arrays of <code>nfft</code> samples</li>
<li>Frequency domain: <code>cx_out[0]</code> is the DC bin of the FFT and <code>cx_out[nfft/2]</code> is the Nyquist bin (if exists).</li>
<li>Files: <code><a class="el" href="kiss__fft_8h_source.html">kiss_fft.h</a></code>, <code>kiss_fft.c</code> and <code><a class="el" href="__kiss__fft__guts_8h_source.html">_kiss_fft_guts.h</a></code>.</li>
</ul>
<h3>Real valued FFT</h3>
<p>A real valued optimized FFT which takes real valued signals as its input is implemtned in <code><a class="el" href="kiss__fftr_8h_source.html">kiss_fftr.h</a></code> and <code>kiss_fftr.c</code>. It returns the positive half-spectrum: (nfft/2+1) complex frequency bins.</p>
<h4>Real signal to complex frequencies transform</h4>
<div class="fragment"><div class="line">#include &quot;kiss_fftr.h&quot;</div><div class="line"></div><div class="line">kiss_fftr_cfg cfg = kiss_fftr_alloc(nfft, 0, 0, 0);</div><div class="line">kiss_fft_scalar *cx_in = new kiss_fft_scalar[nfft];</div><div class="line">kiss_fft_cpx *cx_out = new kiss_fft_cpx[nfft/2+1];</div><div class="line"></div><div class="line">// put `nfft` samples in cx_in[k]</div><div class="line"></div><div class="line">kiss_fftr(cfg, cx_in, cx_out);</div><div class="line"></div><div class="line">// Process the spectrum `cx_out` here: We have `nfft/2+1` (!) samples.</div><div class="line"></div><div class="line">free(cfg);</div><div class="line">delete[] cx_in;</div><div class="line">delete[] cx_out;</div></div><!-- fragment --><h4>Complex frequencies to real signal transform</h4>
<div class="fragment"><div class="line">#include &quot;kiss_fftr.h&quot;</div><div class="line"></div><div class="line">kiss_fftr_cfg cfg = kiss_fftr_alloc(nfft, 1, 0, 0);</div><div class="line">kiss_fft_cpx *cx_in = new kiss_fft_cpx[nfft/2+1];</div><div class="line">kiss_fft_scalar *cx_out = new kiss_fft_scalar[nfft];</div><div class="line"></div><div class="line">// put kth frequency sample in cx_in[k] up to index `nfft/2`.</div><div class="line">// No need to populate the mirror.</div><div class="line"></div><div class="line">kiss_fftr(cfg, cx_in, cx_out);</div><div class="line"></div><div class="line">// Process signal `cx_out` here. It has again `nfft` samples</div><div class="line">// and is real valued.</div><div class="line"></div><div class="line">free(cfg);</div><div class="line">delete[] cx_in;</div><div class="line">delete[] cx_out;</div></div><!-- fragment --><h3>Setting the data type for the FFT</h3>
<p>(Note this is only for the plain C version. The Android wrapper always expects double. If you use JNI then leave it to the default type.) The default data type is <code>double</code> which is kept in the C macro <code>kiss_fft_scalar</code> but with a compiler-define this can be changed to (for example in CMake):</p><ul>
<li>float: <code>add_definitions(-Dkiss_fft_scalar=float)</code> where the C macro <code>kiss_fft_scalar</code> is defined as <code>float</code>.</li>
<li>16 bit int: <code>add_definitions(-DFIXED_POINT=16)</code> where the C macro <code>FIXED_POINT</code> is set to the number 16 which in turn then sets <code>kiss_fft_scalar</code> to <code>int16_t</code>.</li>
<li>32 bit int: <code>add_definitions(-DFIXED_POINT=32)</code> where the C macro <code>FIXED_POINT</code> is set to the number 32 which in turn then sets <code>kiss_fft_scalar</code> to <code>int32_t</code>.</li>
</ul>
<h3>Installation / Usage</h3>
<p>The library is so small that you can directly include the sources in your project or you can pre-package it as a static library and then link it into your project. Create the static library (with the help of cmake): </p><div class="fragment"><div class="line">cmake . -DCMAKE_BUILD_TYPE=RelWithDebInfo</div><div class="line">make</div><div class="line">make install</div></div><!-- fragment --><p> which is installed in the usual places (e.g. <code>/usr/local/lib</code> and <code>/usr/local/include</code>) and is called <code>libkiss-fft.a</code>.</p>
<h2>Android</h2>
<p>Super-fast native FFTs under Android. Only double (default) for the FFT is supported.</p>
<h3>Compilation</h3>
<p>Open this project in Android studio and run "Build". Depending on the config you'll generate a debug version of the kiss-fft library or a release version.</p>
<h3>Installation</h3>
<p>The Android library is in <code>jnifft/build/outputs/</code>. Just import it into your Android project with "New-Module-Android Library" and add the dependency with </p><div class="fragment"><div class="line">compile project(&quot;:jnifft-release&quot;)</div></div><!-- fragment --><p>### Complex to Complex transform </p><div class="fragment"><div class="line">kissFastFourierTransformer = new KISSFastFourierTransformer();</div><div class="line">Complex[] outdata = kissFastFourierTransformer.transform(indata, TransformType.FORWARD);</div></div><!-- fragment --><p> which transforms from Complex to Complex as defined in the apache Commons. The constant <code>TransformType</code> is also defined in apache Commons which determines if it's a forward or inverse transform. It can be used as a direct replacement of the apache commons FFT function.</p>
<p>There are also convenience functions as implemented in the apache commons library for double and Double which perform the conversion to Complex in C++. The function for the primitive type double is slightly faster than the one with Double.</p>
<h3>Real to Complex and Complex to Real transform</h3>
<p>For real valued sequences there are two optimised functions which directly perform the FFT on the raw <code>double</code> buffer without any conversion to <code>Complex</code>. For such real valued sequences this runs at least twice as fast as the Complex FFT functions above. The complex frequency sequence of the real sequence of length N has the length N/2+1 and then expands back to length N by the inverse transform: </p><div class="fragment"><div class="line">public Complex[] transformRealOptimisedForward(double[] v)</div><div class="line">public double[] transformRealOptimisedInverse(Complex[] v)</div></div><!-- fragment --><h3>Unit tests</h3>
<p>Run <code>FFTTest</code> and <code>FFTRTest</code> which compare the results to that from the apache commons FFT functions and perform an ifft(fft) test to check for rounding errors.</p>
<h2>Attribution</h2>
<p>This is a fork, stripped down and further debugged version of the original kiss-fft library by Mark Borgerding <a href="#" onclick="location.href='mai'+'lto:'+'Mar'+'k@'+'Bor'+'ge'+'rdi'+'ng'+'.ne'+'t'; return false;">Mark@<span style="display: none;">.nosp@m.</span>Borg<span style="display: none;">.nosp@m.</span>erdin<span style="display: none;">.nosp@m.</span>g.ne<span style="display: none;">.nosp@m.</span>t</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
